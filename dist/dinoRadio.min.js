(function(root,factory){if(typeof window.define==="function"&&window.define.amd){window.define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{root.dinoRadio=factory(root.jquery)}})(this,function(){"use strict";const pluginName="dinoRadio";function Plugin(element,options){this.element=element;this._flag=false;this._name=pluginName;this._uId=this.createUniqId(8);this._language=this.getUserLanguage();this.dinoAudio=new window.Audio;this.dinoAudio.id=this._uId;this.dinoAudio.loop=false;this._dinoArt="";this._dinoCurrentUrl="";this._dinoCurrentRow=0;this._dinoCurrentIndex=0;this._nowPlayingIntervalId=0;this._defaults=$.fn.dinoRadio.defaults;this.options=$.extend({},this._defaults,options);if(typeof $(this.element).data("dinoRadio")==="object"){$.extend(this.options,$(this.element).data("dinoRadio"))}const dataKeys=Object.keys($(this.element).data());const dataAttrs={};for(let i=0;i<dataKeys.length;i++){let key=dataKeys[i].replace(pluginName,"");if(key===""){continue}key=key.charAt(0).toLowerCase()+key.slice(1);dataAttrs[key]=$(this.element).data(dataKeys[i]);for(let settingsKey in this.options){if(this.options.hasOwnProperty(settingsKey)){if(settingsKey.toLowerCase()===key){this.options[settingsKey]=dataAttrs[key]}}}}let widget=this;if(!widget.options.language){widget.options.language=widget._language}if(!widget._flag){widget.init();widget._flag=true}}$.extend(Plugin.prototype,{init:function(){const widget=this;this.buildCache();this.bindEvents();this.bindPlayerEvents();if(widget.options.debug){window.console.info("--------------------------------------------");window.console.info("--------------------------------------------");window.console.info(widget.capitalizeFirstLetter(widget._name)+" "+$.fn.dinoRadio.version+" successfully initialized and is ready.");window.console.info(`Language is set to: ${widget.options.language}`);window.console.info(`Plugin Description: ${widget.getI18n("plugin_desc",widget.options.language)}`);window.console.info(`Uniq ID generated: ${widget._uId}`);window.console.info(`Current dateTime is: ${widget.formatTime($.now(),0)}`);window.console.info(`Current date is: ${widget.formatTime($.now(),2)}`);window.console.info(`Current time is: ${widget.formatTime($.now())}`);window.console.info("--------------------------------------------");window.console.info("--------------------------------------------")}widget.$element.append(this.createRadioWidget());widget.initRadio()},createRadioWidget:function(){return`<article id="dinoRadio-${this._uId}" class="dinoRadio"><div id="dinoRadioHolder-${this._uId}" class="dinoRadioHolder"><section id="dinoRadioPosterHolder-${this._uId}" class="dinoRadioPosterHolder"><img id="dinoRadioPoster-${this._uId}" class="dinoRadioPoster" alt="${this.getI18n("plugin_ra_station",this.options.language)}" /><div id="dinoRadioInfo-${this._uId}" class="dinoRadioInfo"></div><div id="dinoRadioPlayPause-${this._uId}" class="dinoRadioPlayPause"><i class="dinoIcon dino-icon-play-circled-1"></i></div><div id="dinoRadioError-${this._uId}" class="dinoBlinking"></div></section><img id="dinoRadioLogo-${this._uId}" src="data:image/png;base64,${this.getImage(0)}" class="dinoRadioLogo" alt="${this.getI18n("plugin_ra_logo",this.options.language)}" /><section id="dinoRadioPlaylist-${this._uId}" class="dinoRadioPlaylist"><div id="dinoRadioLoader-${this._uId}" class="dinoLoaderOverlay"><div class="dinoCubeGrid"><div class="dinoCube dinoCube1"></div><div class="dinoCube dinoCube2"></div><div class="dinoCube dinoCube3"></div><div class="dinoCube dinoCube4"></div><div class="dinoCube dinoCube5"></div><div class="dinoCube dinoCube6"></div><div class="dinoCube dinoCube7"></div><div class="dinoCube dinoCube8"></div><div class="dinoCube dinoCube9"></div></div></div><ul id="dinoRadioPlaylistList-${this._uId}" class="dinoRadioPlaylistList"></ul><div class="dinoRadioPlaylistBottom"><label for="dinoRadioSearchTerm-${this._uId}"></label><input id="dinoRadioSearchTerm-${this._uId}" class="dinoRadioSearchTerm" type="text" onfocus="this.value=''" onblur="this.value='${this.getI18n("plugin_ra_search",this.options.language)}'" value="${this.getI18n("plugin_ra_search",this.options.language)}" /><i id="dinoRadioGithub-${this._uId}" class="dinoIcon dino-icon-github-squared"></i><i id="dinoRadioLinkedin-${this._uId}" class="dinoIcon dino-icon-linkedin-squared"></i><i id="dinoRadioFacebook-${this._uId}" class="dinoIcon dino-icon-facebook-squared"></i></div></ul></section><section id="dinoRadioData-${this._uId}" class="dinoRadioData"><div id="dinoRadioStation-${this._uId}" class="dinoRadioStation"></div><div class="dinoMarquee"><div class="dinoMarqueeInner"><span>${this.getI18n("plugin_ra_title",this.options.language)}&nbsp;</span><span id="dinoRadioSongTitle-${this._uId}" class="dinoRadioSongTitle"></span><span>&nbsp;&nbsp;****&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;****&nbsp;&nbsp;</span><span>${this.getI18n("plugin_ra_artist",this.options.language)}&nbsp;</span><span id="dinoRadioSongArtist-${this._uId}" class="dinoRadioSongArtist"></span></div></div><div id="dinoRadioEqualiser-${this._uId}" class="dinoRadioEqualiser"><ul class="dinoRadioEqualiserColumn"><li class="dinoRadioEqualiserColourBar"></li></ul><ul class="dinoRadioEqualiserColumn"><li class="dinoRadioEqualiserColourBar"></li></ul><ul class="dinoRadioEqualiserColumn"><li class="dinoRadioEqualiserColourBar"></li></ul><ul class="dinoRadioEqualiserColumn"><li class="dinoRadioEqualiserColourBar"></li></ul><ul class="dinoRadioEqualiserColumn"><li class="dinoRadioEqualiserColourBar"></li></ul></div></section><nav id="dinoRadioControls-${this._uId}" class="dinoRadioControls"><a href="#" id="dinoRadioPlay-${this._uId}" class="dinoRadioPlay" title="${this.getI18n("plugin_ra_play",this.options.language)}"><i class="dinoIcon dino-icon-play-3"></i></a><a href="#" id="dinoRadioPrev-${this._uId}" class="dinoRadioPrev" title="${this.getI18n("plugin_ra_prev",this.options.language)}"><i class="dinoIcon dino-icon-step-backward"></i></a><a href="#" id="dinoRadioNext-${this._uId}" class="dinoRadioNext" title="${this.getI18n("plugin_ra_next",this.options.language)}"><i class="dinoIcon dino-icon-step-forward"></i></a><a href="#" id="dinoRadioVolumeButton-${this._uId}" class="dinoRadioVolumeButton" title="${this.getI18n("plugin_ra_mute",this.options.language)}"><i class="dinoIcon dino-icon-volume"></i></a><a href="#" id="dinoRadioShowHidePlaylist-${this._uId}" class="dinoRadioShowHidePlaylist" title="${this.getI18n("plugin_ra_playlist",this.options.language)}"><i class="dinoIcon dino-icon-indent-left-1"></i></a></nav><svg id="dinoBlurFilterSvg-${this._uId}" xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs><filter id="dinoBlurFilter-${this._uId}"><feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" /><feColorMatrix in="blur" values="1 1 0 0 0  1 1 0 0 0  1 1 0 0 0  1 1 0 20 -6" result="flt" /><feBlend in2="flt" in="SourceGraphic" result="mix" /></filter></defs></svg></div></article>`},initRadio:function(){const widget=this;widget.$element.find(`#dinoRadioPosterHolder-${widget._uId}`).css({"background-color":widget.options.bgColor});widget.$element.find(`#dinoRadioPlaylist-${widget._uId}`).css({"background-color":widget.options.bgColor});widget.$element.find(`#dinoRadioControls-${widget._uId}`).css({"background-color":widget.options.bgColor});widget.$element.find(`#dinoRadioSearch-${widget._uId}`).css({"background-color":widget.options.bgColor});if(window.navigator.userAgent.indexOf("Firefox")===-1){widget.$element.find(`#dinoRadio-${widget._uId}`).css({"-webkit-filter":`url("#dinoBlurFilter-${widget._uId}")`,filter:`url("#dinoBlurFilter-${widget._uId}")`})}else{widget.$element.find(`#dinoRadio-${widget._uId}`).css({"-webkit-filter":`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='dinoBlurFilter-${widget._uId}'><feGaussianBlur in='SourceGraphic' result='blur' stdDeviation='10' /><feColorMatrix in='blur' values='1 1 0 0 0  1 1 0 0 0  1 1 0 0 0  1 1 0 20 -6' result='flt' /><feBlend in2='flt' in='SourceGraphic' result='mix' /></filter></svg>#dinoBlurFilter-${widget._uId}")`,filter:`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='dinoBlurFilter-${widget._uId}'><feGaussianBlur in='SourceGraphic' result='blur' stdDeviation='10' /><feColorMatrix in='blur' values='1 1 0 0 0  1 1 0 0 0  1 1 0 0 0  1 1 0 20 -6' result='flt' /><feBlend in2='flt' in='SourceGraphic' result='mix' /></filter></svg>#dinoBlurFilter-${widget._uId}")`})}widget.$element.find(`#dinoRadioPoster-${widget._uId}`).attr("src",`data:image/png;base64,${widget.getImage(0)}`);widget.$element.find(`#dinoRadioStation-${widget._uId}`).text(widget.checkStrLength(widget.getI18n("plugin_no_station",widget.options.language),20));widget.$element.find(`#dinoRadioSongTitle-${widget._uId}`).text(widget.getI18n("plugin_no_title",widget.options.language));widget.$element.find(`#dinoRadioSongArtist-${widget._uId}`).text(widget.getI18n("plugin_no_artist",widget.options.language));if(!widget.options.stationPlaylist.length){window.console.info(window.atob("R2V0IGRlZmF1bHQgcmFkaW8gcGxheWxpc3QgZnJvbSBNQ1gtU3lzdGVtcyE="));$.getJSON({url:window.atob("aHR0cHM6Ly9tY3gtc3lzdGVtcy5uZXQvcmFkaW9TdGF0aW9uUGxheWxpc3QucGhw"),success:function(data){widget.options.stationPlaylist=data;window.console.log(widget.options.stationPlaylist)},error:function(){window.console.log("Error getting default playlist!")}})}window.setTimeout(function(){if(!widget.options.stationPlaylist.length){widget.$element.find(`#dinoRadioError-${widget._uId}`).css({visibility:"visible",opacity:1});const template=`<li><span class="dinoRadioStationError">${this.getI18n("plugin_no_playlist",this.options.language)}</span></li>`;widget.$element.find(`#dinoRadioPlaylistList-${widget._uId}`).append(template);window.console.error("No Playlist Found!!! Please set a playlist first!")}let stationNameCurrent;let stationUrlCurrent;if(widget.options.stationPlaylist.length){$.each(widget.options.stationPlaylist,function(i,value){let num="";let active="";let hoverA="";let template="";if(widget.options.showPlaylistNumber){num=`<span class="dinoRadioStationNumbers">${i+1}</span>`}if(i===0){hoverA=' class="active"';stationNameCurrent=value.station;stationUrlCurrent=value.url;active='<span class="dinoRadioActive"></span>';widget.$element.find(`#dinoRadioStation-${widget._uId}`).text(widget.checkStrLength(stationNameCurrent,20))}if(widget.options.grabStationRds){$.getJSON({url:widget.options.pathToAjaxFiles+window.atob("cmFkaW9TdGF0aW9uSW5mby5waHA/dGhlX3N0cmVhbT0=")+value.url,success:function(data){template=`<li id="dinoRadioItem-${i}-${widget._uId}" data-position="${i}"${hoverA}>${num}${active}<span class="dinoRadioStation">${widget.checkStrLength(data.streamTitle,14)}</span><i class="dinoIcon dino-icon-signal"></i></li>`;widget.$element.find(`#dinoRadioPlaylistList-${widget._uId}`).append(template);if(i===0){widget.$element.find(`#dinoRadioStation-${widget._uId}`).text(widget.checkStrLength(data.streamTitle,20))}},error:function(){window.console.log("Error: Something went wrong with loading the Current Radio song!");template=`<li id="dinoRadioItem-${i}-${widget._uId}" data-position="${i}"${hoverA}>${num}${active}<span class="dinoRadioStation">${widget.checkStrLength(value.station,14)}</span><i class="dinoIcon dino-icon-signal"></i></li>`;widget.$element.find(`#dinoRadioPlaylistList-${widget._uId}`).append(template)}})}else{template=`<li id="dinoRadioItem-${i}-${widget._uId}" data-position="${i}"${hoverA}>${num}${active}<span class="dinoRadioStation">${widget.checkStrLength(value.station,14)}</span><i class="dinoIcon dino-icon-signal"></i></li>`;widget.$element.find(`#dinoRadioPlaylistList-${widget._uId}`).append(template)}});widget.changeRadioSong(stationUrlCurrent)}if(widget.options.showPlaylistOnInit){widget.$element.find(`#dinoRadioPlaylist-${widget._uId}`).css({visibility:"visible",opacity:1});widget.$element.find(`#dinoRadioShowHidePlaylist-${widget._uId} i`).toggleClass("dino-icon-indent-left-1 dino-icon-indent-right-1")}widget.dinoAudio.src=stationUrlCurrent;widget.$element.attr("data-radioId",widget._uId);if(widget.options.autoPlay){if(widget.$element.find(`#dinoRadioPlayPause-${widget._uId}`).prop("visibility","collapse")){widget.$element.find(`#dinoRadioPlayPause-${widget._uId}`).css("visibility","visible").css("opacity",1);if(widget.options.showEqOnPlay){widget.$element.find(`#dinoRadioEqualiser-${widget._uId}`).css("visibility","collapse").css("opacity",0)}}widget.$element.find(`#dinoRadioPlay-${widget._uId} i`).toggleClass("dino-icon-play-3 dino-icon-stop-3");if(widget.$element.find(`#dinoRadioPlay-${widget._uId} i`).hasClass("dino-icon-stop-3")){widget.$element.find(`#dinoRadioPlayPause-${widget._uId}`).css("visibility","collapse").css("opacity",0);if(widget.options.showEqOnPlay){widget.$element.find(`#dinoRadioEqualiser-${widget._uId}`).css("visibility","visible").css("opacity",1)}}widget.playRadioPlaylist(0)}window.setTimeout(function(){widget.hideLoader();widget.$element.find(`#dinoRadioPlaylistList-${widget._uId} > li`).sort(widget.sortPlaylist).appendTo(`#dinoRadioPlaylistList-${widget._uId}`)},2e3)},3e3)},destroy:function(){this.unbindEvents();this.$element.removeData();this.$dinoAudio.removeData()},buildCache:function(){this.$element=$(this.element);this.$dinoAudio=$(this.dinoAudio)},bindEvents:function(){const plugin=this;const secondsForClicks=1;const numClicksRequired=5;const clickTimestamps=[numClicksRequired];let oldestIndex=0;let nextIndex=0;plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioInfo-${plugin._uId}`,function(e){e.preventDefault();plugin.$element.find(`#dinoRadioInfo-${plugin._uId}`).css({opacity:"0",visibility:"collapse"}).html("")});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioLogo-${this._uId}`,function(){const timeMillis=(new Date).getTime();if(nextIndex===numClicksRequired-1||oldestIndex>0){const diff=timeMillis-clickTimestamps[oldestIndex];if(diff<secondsForClicks*1e3){plugin.$element.find(`#dinoRadioInfo-${plugin._uId}`).css({opacity:"1",visibility:"visible"}).html(plugin.createCreatedBy())}oldestIndex++}clickTimestamps[nextIndex]=timeMillis;nextIndex++;if(nextIndex===numClicksRequired){nextIndex=0}if(oldestIndex===numClicksRequired){oldestIndex=0}});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioPlayPause-${plugin._uId}`,function(e){e.preventDefault();const radioItemId=plugin.$element.find(`#dinoRadioPlaylistList-${plugin._uId} li.active`).data("position");plugin.playRadioPlaylist(radioItemId)});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioPlay-${plugin._uId}`,function(e){e.preventDefault();const radioItemId=plugin.$element.find(`#dinoRadioPlaylistList-${plugin._uId} li.active`).data("position");plugin.playRadioPlaylist(radioItemId)});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioShowHidePlaylist-${plugin._uId}`,function(e){e.preventDefault();if(plugin.$element.find(`#dinoRadioShowHidePlaylist-${plugin._uId} i`).hasClass("dino-icon-indent-left-1")){plugin.$element.find(`#dinoRadioPlaylist-${plugin._uId}`).css({visibility:"visible",opacity:1})}else{plugin.$element.find(`#dinoRadioPlaylist-${plugin._uId}`).css({visibility:"collapse",opacity:0})}plugin.$element.find(`#dinoRadioShowHidePlaylist-${plugin._uId} i`).toggleClass("dino-icon-indent-left-1 dino-icon-indent-right-1")});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioVolumeButton-${plugin._uId}`,function(e){e.preventDefault();plugin.$element.find(`#dinoRadioVolumeButton-${plugin._uId} i`).toggleClass("dino-icon-volume dino-icon-volume-off-1");plugin.muteSound()});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioPrev-${plugin._uId}`,function(e){e.preventDefault();plugin.playPreviousStation()});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioNext-${plugin._uId}`,function(e){e.preventDefault();plugin.playNextStation()});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioPlaylistList-${plugin._uId} li`,function(e){e.preventDefault();const radioItemId=$(this).prop("id");const index=radioItemId.split("-");plugin.$element.find(`#dinoRadioStation-${plugin._uId}`).text(plugin.checkStrLength($(this).find(".dinoRadioStation").text(),20));plugin.playRadioPlaylist(index[1])});plugin.$element.on(`input.${plugin._name}`,`#dinoRadioSearchTerm-${plugin._uId}`,function(e){e.preventDefault()});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioGithub-${plugin._uId}`,function(e){e.preventDefault()});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioLinkedin-${plugin._uId}`,function(e){e.preventDefault()});plugin.$element.on(`click touchstart.${plugin._name}`,`#dinoRadioFacebook-${plugin._uId}`,function(e){e.preventDefault()})},bindPlayerEvents:function(){const plugin=this;plugin.$dinoAudio.on(`play.${plugin._name}`,function(){if(plugin.$element.find(`#dinoRadioPlayPause-${plugin._uId}`).prop("visibility","visible")){plugin.$element.find(`#dinoRadioPlayPause-${plugin._uId}`).css("visibility","collapse").css("opacity",0)}if(plugin.$element.find(`#dinoRadioPlay-${plugin._uId} i`).hasClass("dino-icon-play-3")){plugin.$element.find(`#dinoRadioPlay-${plugin._uId} i`).toggleClass("dino-icon-play-3 dino-icon-stop-3");if(plugin.options.showEqOnPlay){plugin.$element.find(`#dinoRadioEqualiser-${plugin._uId}`).css("visibility","visible").css("opacity",1)}}});plugin.$dinoAudio.on(`playing.${plugin._name}`,function(){});plugin.$dinoAudio.on(`timeupdate.${plugin._name}`,function(){});plugin.$dinoAudio.on(`pause.${plugin._name}`,function(){if(plugin.$element.find(`#dinoRadioPlayPause-${plugin._uId}`).prop("visibility","collapse")){plugin.$element.find(`#dinoRadioPlayPause-${plugin._uId}`).css("visibility","visible").css("opacity",1)}if(plugin.$element.find(`#dinoRadioPlay-${plugin._uId} i`).hasClass("dino-icon-stop-3")){plugin.$element.find(`#dinoRadioPlay-${plugin._uId} i`).toggleClass("dino-icon-play-3 dino-icon-stop-3");if(plugin.options.showEqOnPlay){plugin.$element.find(`#dinoRadioEqualiser-${plugin._uId}`).css("visibility","collapse").css("opacity",0)}}});plugin.$dinoAudio.on(`ended.${plugin._name}`,function(){});plugin.$dinoAudio.on(`loadedmetadata.${plugin._name}`,function(){})},unbindEvents:function(){this.$element.off(`.${this._name}`);this.$dinoAudio.off(`.${this._name}`)},playRadioPlaylist:function(indexValue){const objAudio=this.dinoAudio;if(objAudio.paused){const stationArray=this.options.stationPlaylist[indexValue];const currentUrl=stationArray.url;const currentIndex=indexValue;const oldRowIndex=this._dinoCurrentRow;this._dinoCurrentStation=currentUrl;this._dinoCurrentIndex=currentIndex;this._dinoCurrentRow=currentIndex;objAudio.pause();objAudio.src=this._dinoCurrentStation;objAudio.play().then(()=>{});this.changePlaylistAppearance(this._dinoCurrentRow,oldRowIndex);this.changeRadioSong(this._dinoCurrentStation)}else{objAudio.pause()}},playPreviousStation:function(){const objAudio=this.dinoAudio;const playlistArray=this.options.stationPlaylist;let currentUrl;let currentIndex=this._dinoCurrentIndex;const oldRowIndex=this._dinoCurrentRow;if(currentIndex<=0){currentUrl=playlistArray[playlistArray.length-1].url;currentIndex=playlistArray.length-1;this._dinoCurrentRow=currentIndex}else{currentUrl=playlistArray[currentIndex-1].url;currentIndex=currentIndex-1;this._dinoCurrentRow=currentIndex}this._dinoCurrentUrl=currentUrl;this._dinoCurrentIndex=currentIndex;objAudio.src=this._dinoCurrentUrl;objAudio.play().then(()=>{});this.changePlaylistAppearance(this._dinoCurrentRow,oldRowIndex);this.changeRadioSong(this._dinoCurrentUrl);const row=this.$element.find(`#dinoRadioItem-${this._dinoCurrentRow}-${this._uId} .dinoRadioStation`);this.$element.find(`#dinoRadioStation-${this._uId}`).text(this.checkStrLength(row.text(),20))},playNextStation:function(){const objAudio=this.dinoAudio;const playlistArray=this.options.stationPlaylist;let currentUrl;let currentIndex=this._dinoCurrentIndex;const oldRowIndex=this._dinoCurrentRow;if(playlistArray.length<=currentIndex+1){currentUrl=playlistArray[0].url;currentIndex=0;this._dinoCurrentRow=currentIndex}else{currentUrl=playlistArray[currentIndex+1].url;currentIndex=currentIndex+1;this._dinoCurrentRow=currentIndex}this._dinoCurrentUrl=currentUrl;this._dinoCurrentIndex=currentIndex;objAudio.src=this._dinoCurrentUrl;objAudio.play().then(()=>{});this.changePlaylistAppearance(this._dinoCurrentRow,oldRowIndex);this.changeRadioSong(this._dinoCurrentUrl);const row=this.$element.find(`#dinoRadioItem-${this._dinoCurrentRow}-${this._uId} .dinoRadioStation`);this.$element.find(`#dinoRadioStation-${this._uId}`).text(this.checkStrLength(row.text(),20))},muteSound:function(){const objAudio=this.dinoAudio;objAudio.muted=!objAudio.muted},changeRadioSong:function(stationUrl){const widget=this;window.clearInterval(widget._nowPlayingIntervalId);if(widget.options.grabSongRds){$.getJSON({url:widget.options.pathToAjaxFiles+window.atob("cmFkaW9Ob3dQbGF5aW5nLnBocD90aGVfc3RyZWFtPQ==")+stationUrl,success:function(data){widget.changeCurrentSongTitle(data.songTitle,data.songArtist);if(widget.options.grabArtistInfo){widget.getArtistInfo(data.songArtist)}},error:function(){window.console.log("Error: Something went wrong with loading the Current Radio song!")}});window.setTimeout(function(){widget._nowPlayingIntervalId=window.setInterval(function(){$.getJSON({url:widget.options.pathToAjaxFiles+window.atob("cmFkaW9Ob3dQbGF5aW5nLnBocD90aGVfc3RyZWFtPQ==")+stationUrl,success:function(data){if(widget.options.grabArtistInfo){widget.getArtistInfo(data.songArtist)}widget.changeCurrentSongTitle(data.songTitle,data.songArtist)},error:function(){window.console.log("Error: Something went wrong with loading the Current Radio song!")}})},widget.options.nowPlayingInterval*1e3)},3e3)}},changeCurrentSongTitle:function(title,artist){$(`#dinoRadioSongTitle-${this._uId}`).text(title);$(`#dinoRadioSongArtist-${this._uId}`).text(artist)},getArtistInfo:function(artist){const widget=this;let picPaths;if(widget._dinoArt===artist){return}$.ajax({url:widget.options.pathToAjaxFiles+window.atob("cmFkaW9BcnRpc3QucGhwP3RoZV9hcnRpc3Q9")+encodeURI($.trim(artist)),success:function(result){picPaths=[];if(result.artists){if(result.artists[0].strArtistThumb!==null&&result.artists[0].strArtistThumb!==""){picPaths.push(result.artists[0].strArtistThumb)}if(result.artists[0].strArtistFanart!==null&&result.artists[0].strArtistFanart!==""){picPaths.push(result.artists[0].strArtistFanart)}if(result.artists[0].strArtistFanart2!==null&&result.artists[0].strArtistFanart2!==""){picPaths.push(result.artists[0].strArtistFanart2)}if(result.artists[0].strArtistFanart3!==null&&result.artists[0].strArtistFanart3!==""){picPaths.push(result.artists[0].strArtistFanart3)}if(result.artists[0].strArtistFanart4!==null&&result.artists[0].strArtistFanart4!==""){picPaths.push(result.artists[0].strArtistFanart4)}let curPic=-1;const artImage=[];for(let i=0;i<picPaths.length;i++){artImage[i]=new window.Image;artImage[i].src=picPaths[i]}function swapImage(){curPic=++curPic>picPaths.length-1?0:curPic;widget.$element.find(`#dinoRadioPoster-${widget._uId}`).attr("src",artImage[curPic].src);window.setTimeout(swapImage,3e4)}swapImage();widget._dinoArt=artist;return}widget._dinoArt=artist;widget.$element.find(`#dinoRadioPoster-${widget._uId}`).attr("src",`data:image/png;base64,${widget.getImage(0)}`)},error:function(){window.console.log("Error: Something went wrong with loading the LastFM Data!")}})},changePlaylistAppearance:function(newRowIndex,oldRowIndex){const active='<span class="dinoRadioActive"></span>';this.$element.find(`#dinoRadioItem-${oldRowIndex}-${this._uId}`).removeClass("active");this.$element.find(`#dinoRadioItem-${oldRowIndex}-${this._uId} .dinoRadioActive`).remove().removeClass("active");this.$element.find(`#dinoRadioItem-${newRowIndex}-${this._uId}`).addClass("active").append(active)},sortPlaylist:function(a,b){return $(b).data("position")<$(a).data("position")?1:-1},showLoader:function(){this.$element.find(`#dinoRadioLoader-${this._uId}`).css({opacity:1,visibility:"visible"})},hideLoader:function(){this.$element.find(`#dinoRadioLoader-${this._uId}`).css({opacity:0,visibility:"collapse"})},createUniqId:function(idLength){const charsToFormId="_0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");if(!idLength){idLength=Math.floor(Math.random()*charsToFormId.length)}let uniqId="";for(let i=0;i<idLength;i++){uniqId+=charsToFormId[Math.floor(Math.random()*charsToFormId.length)]}return uniqId},getUserLanguage:function(){let lang="";let qs=window.location.search;if(qs){if(qs.substring(0,1)==="?"){qs=qs.substring(1)}const params=qs.split("&");for(let i=0;i<params.length;i++){const keyValue=params[i].split("=");if(keyValue[0]==="lang"){lang=keyValue[1];break}}}if(!lang){const lan=window.navigator.language||window.navigator;const part=lan.split("-");lang=part[0]}if(lang!=="en"&&lang!=="sl"){lang="en"}return lang},formatTime:function(unixTimestamp,fullDate,unix=false){let formattedDate;let timestamp;if(unix){timestamp=unixTimestamp*1e3}else{timestamp=unixTimestamp}const updateDate=new Date(timestamp);const day=(updateDate.getDate()<10?"0":"")+updateDate.getDate();const month=(updateDate.getMonth()<9?"0":"")+(updateDate.getMonth()+1);const year=updateDate.getFullYear();let hours=updateDate.getHours();let minutes=updateDate.getMinutes();if(minutes<10){minutes=`0${minutes}`}if(hours<10){hours=`0${hours}`}switch(fullDate){case 0:formattedDate=hours+":"+minutes+" - "+day+"-"+month+"-"+year;break;case 1:formattedDate=month+"/"+day+"/"+year;break;case 2:formattedDate=day+"-"+month+"-"+year;break;default:formattedDate=hours+":"+minutes;break}return formattedDate},randomNumberFromRange:function(min,max){return Math.floor(Math.random()*(max-min+1)+min)},isBlank:function(str){return!str||/^\s*$/.test(str)},checkStrLength:function(str,length){const val=str.length;if(val>length){return str.substring(0,length-3)+" ..."}else{return str}},capitalizeFirstLetter:function(string){return string.replace(/^(.)/g,string[0].toUpperCase())},deCapitalizeFirstLetter:function(string){return string.replace(/^(.)/g,string[0].toLowerCase())},statusLocalStorage:function(name){const date=new Date;const current=Math.round(+date/1e3);let storedTime=window.localStorage.getItem(name+"_time");if(storedTime===undefined||storedTime===null){storedTime=0}if(storedTime<current){this.removeLocalStorage(name);return 0}else{return 1}},setLocalStorage:function(name,value,expires){if(expires===undefined||expires===null){expires=3600}const date=new Date;const schedule=Math.round(date.setSeconds(date.getSeconds()+expires)/1e3);window.localStorage.setItem(name,value);window.localStorage.setItem(name+"_time",schedule.toString())},removeLocalStorage:function(name){window.localStorage.removeItem(name);window.localStorage.removeItem(name+"_time")},getI18n:function(key,lang){const i18N={en:{plugin_title:"DinoRadio",plugin_desc:"Jquery plugin for listening to web radio.",plugin_no_station:"Unknown Station",plugin_no_artist:"Unknown Artist",plugin_no_title:"Unknown Title",plugin_no_playlist:"No Playlist Found!!!",plugin_ra_station:"Radio Station",plugin_ra_logo:"Radio Logo",plugin_ra_search:"Input Search Term ...",plugin_ra_title:"Title:",plugin_ra_artist:"Artist:",plugin_ra_play:"Play/Pause",plugin_ra_prev:"Previous",plugin_ra_next:"Next",plugin_ra_mute:"Mute/UnMute",plugin_ra_playlist:"Open/Close Playlist"},sl:{plugin_title:"DinoRadio",plugin_desc:"Vtičnik Jquery za poslušanje spletnega radia.",plugin_no_station:"Neznana Postaja",plugin_no_artist:"Neznani Izvajalec",plugin_no_title:"Neznan Naslov",plugin_no_playlist:"Seznam predvajanja ni najden!!!",plugin_ra_station:"Radijska Postaja",plugin_ra_logo:"Radio Logo",plugin_ra_search:"Vnesite iskalni izraz ...",plugin_ra_title:"Naslov:",plugin_ra_artist:"Izvajalec:",plugin_ra_play:"Predvajanje/Premor",plugin_ra_prev:"Prejšnji",plugin_ra_next:"Naslednji",plugin_ra_mute:"Vklop/Izklop Zvoka",plugin_ra_playlist:"Odpri/Zapri Seznam Predvajanja"},de:{plugin_title:"DinoRadio",plugin_desc:"JQuery-Plugin zum Hören von Webradio. ",plugin_no_station:"Unbekannte Station",plugin_no_artist:"Unbekannter Künstler",plugin_no_title:"Unbekannter Titel",plugin_no_playlist:"Keine Wiedergabeliste gefunden!!!",plugin_ra_station:"Radiosender",plugin_ra_logo:"Radio Logo",plugin_ra_search:"Suchbegriff eingeben ...",plugin_ra_title:"Titel:",plugin_ra_artist:"Künstler:",plugin_ra_play:"Spiel/Pause",plugin_ra_prev:"Bisherige",plugin_ra_next:"Nächster",plugin_ra_mute:"Stumm/Stummschaltung Aufheben",plugin_ra_playlist:"Wiedergabeliste öffnen/schließen"}};if(typeof i18N[lang]!=="undefined"&&typeof i18N[lang][key]!=="undefined"){return i18N[lang][key]}return key},getImage:function(key=0){const noImageAvailable=["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"];return noImageAvailable[key]},createCreatedBy:function(){return`<address><b>${this.capitalizeFirstLetter(this._name)}</b><br /><span><b>${$.fn.dinoRadio.version}</b></span><hr /><span>${window.atob("Q3JlYXRlZCBCeTog")}<br /><b>${window.atob("PGEgaHJlZj0iaHR0cHM6Ly9tY3gtc3lzdGVtcy5uZXQiIHRhcmdldD0iYmxhbmsiPk1DWC1TeXN0ZW1zJnJlZzwvYT4=")}</b></span></address>`}});$.fn.dinoRadio=function(options){this.each(function(){if(!$.data(this,`plugin_${pluginName}`)){$.data(this,`plugin_${pluginName}`,new Plugin(this,options))}});return this};$.fn.dinoRadio.version="1.4.2021";$.fn.dinoRadio.defaults={bgColor:"rgb(6, 101, 191)",stationPlaylist:[],autoPlay:false,showPlaylistOnInit:false,showEqOnPlay:false,showPlaylistNumber:true,nowPlayingInterval:15,grabSongRds:true,grabStationRds:true,grabArtistInfo:true,pathToAjaxFiles:"https://mcx-systems.net/",language:null,debug:false}});